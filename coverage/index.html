<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Futbol</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2023-01-06T11:04:03-07:00">2023-01-06T11:04:03-07:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="green">
  99.31%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         72.51
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>1</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>145</b> relevant lines,
    <span class="green"><b>144</b> lines covered</span> and
    <span class="red"><b>1</b> lines missed. </span>
    (<span class="green">
  99.31%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f29d8fc345eb4bc60fd139ccf54bd431af8a555a" class="src_link" title="lib/stat_tracker.rb">lib/stat_tracker.rb</a></td>
            <td class="green strong cell--number t-file__coverage">99.31 %</td>
            <td class="cell--number">227</td>
            <td class="cell--number">145</td>
            <td class="cell--number">144</td>
            <td class="cell--number">1</td>
            <td class="cell--number">72.51</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.22.0
        and simplecov-html v0.12.3<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="f29d8fc345eb4bc60fd139ccf54bd431af8a555a">
  <div class="header">
    <h3>lib/stat_tracker.rb</h3>
    <h4>
      <span class="green">
  99.31%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>145</b> relevant lines.
      <span class="green"><b>144</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;csv&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">class StatTracker</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :data_array,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">              :games,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">              :teams,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">              :game_teams</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.from_csv(locations)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="11">
            <span class="hits">4</span>
            

            

            <code class="ruby">    @data_array = locations.values.map {|location| location }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @stat_tracker = StatTracker.new(@data_array)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(data_array)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @data_array = data_array</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @games = CSV.read @data_array[0], headers: true, header_converters: :symbol</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @teams = CSV.read @data_array[1], headers: true, header_converters: :symbol</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @game_teams = CSV.read @data_array[2], headers: true, header_converters: :symbol</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def highest_total_score</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="23">
            
            

            

            <code class="ruby">    @games.map {|row| row[:home_goals].to_i + row[:away_goals].to_i}.max</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def average_goals_per_game</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="62" data-linenumber="27">
            <span class="hits">62</span>
            

            

            <code class="ruby">    total_games = @games.map { |row| row[:game_id]}.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="62" data-linenumber="28">
            <span class="hits">62</span>
            

            

            <code class="ruby">    total_goals = @games.map { |row| row[:home_goals].to_i + row[:away_goals].to_i}.sum</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">    (total_goals.to_f / total_games).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def average_goals_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">    average_goals_by_season = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="62" data-linenumber="35">
            <span class="hits">62</span>
            

            

            <code class="ruby">    all_seasons = @games.map { |row| row[:season]}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">    all_seasons.uniq.each do |season|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="186" data-linenumber="37">
            <span class="hits">186</span>
            

            

            <code class="ruby">      all_games = @games.find_all { |row| season == row[:season]}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="64" data-linenumber="38">
            <span class="hits">64</span>
            

            

            <code class="ruby">        total_score = all_games.map { |row| row[:home_goals].to_i + row[:away_goals].to_i }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="39">
            <span class="hits">3</span>
            

            

            <code class="ruby">          average_goals_by_season[season] = ((total_score.sum.to_f / all_games.count.to_f).round(2))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    average_goals_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">   def count_of_games_by_season</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    count_of_games_by_season = Hash.new(0)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="62" data-linenumber="47">
            <span class="hits">62</span>
            

            

            <code class="ruby">         seasons = @games.map { |row| row[:season]}.tally</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">   end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def percentage_home_wins</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    tally = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @game_teams.find_all do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="76" data-linenumber="53">
            <span class="hits">76</span>
            

            

            <code class="ruby">       tally += 1 if (row[:hoa] == &quot;home&quot; &amp;&amp; row[:result] == &quot;WIN&quot;) || (row[:hoa] == &quot;away&quot; &amp;&amp; row[:result] == &quot;LOSS&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">    (tally.to_f / @game_teams.count.to_f).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def percentage_visitor_wins</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    tally = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @game_teams.find_all do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="76" data-linenumber="61">
            <span class="hits">76</span>
            

            

            <code class="ruby">       tally += 1 if (row[:hoa] == &quot;away&quot; &amp;&amp; row[:result] == &quot;WIN&quot;) || (row[:hoa] == &quot;home&quot; &amp;&amp; row[:result] == &quot;LOSS&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">    (tally.to_f / @game_teams.count.to_f).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def percentage_ties</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">    tally = 0 </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @game_teams.find_all do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="76" data-linenumber="69">
            <span class="hits">76</span>
            

            

            <code class="ruby">       tally += 1 if (row[:hoa] == &quot;away&quot; &amp;&amp; row[:result] == &quot;TIE&quot;) || (row[:hoa] == &quot;home&quot; &amp;&amp; row[:result] == &quot;TIE&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">    (tally.to_f / @game_teams.count.to_f).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def winningest_coach(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    wins_hash = Hash.new(0)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">    total_games_hash = Hash.new(0)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_list = list_games_by_season(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @game_teams.each do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="76" data-linenumber="79">
            <span class="hits">76</span>
            

            

            <code class="ruby">      if games_list.include?(row[:game_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="80">
            <span class="hits">24</span>
            

            

            <code class="ruby">        wins_hash[row[:head_coach]] += 1 if row[:result] == &quot;WIN&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="81">
            <span class="hits">24</span>
            

            

            <code class="ruby">        total_games_hash[row[:head_coach]] += 1 if row[:result]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">    additional_hash = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">    total_games_hash.each do |key, value|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="87">
            <span class="hits">5</span>
            

            

            <code class="ruby">      wins_hash.each do |key_v, value_v|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15" data-linenumber="88">
            <span class="hits">15</span>
            

            

            <code class="ruby">        if key == key_v</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="89">
            <span class="hits">3</span>
            

            

            <code class="ruby">          percent = (value_v / value.to_f)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="90">
            <span class="hits">3</span>
            

            

            <code class="ruby">          additional_hash[key] = percent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="94">
            <span class="hits">4</span>
            

            

            <code class="ruby">    additional_hash.max_by{|k,v| v}[0]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def worst_coach(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">    wins_hash = Hash.new(0)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">    total_games_hash = Hash.new(0)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">    games_list = list_games_by_season(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">    @game_teams.each do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="76" data-linenumber="103">
            <span class="hits">76</span>
            

            

            <code class="ruby">      if games_list.include?(row[:game_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="104">
            <span class="hits">24</span>
            

            

            <code class="ruby">        wins_hash[row[:head_coach]] += 1 if row[:result] == &quot;WIN&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="105">
            <span class="hits">24</span>
            

            

            <code class="ruby">        wins_hash[row[:head_coach]] += 0 if row[:result]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="106">
            <span class="hits">24</span>
            

            

            <code class="ruby">        total_games_hash[row[:head_coach]] += 1 if row[:result]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            <span class="hits">1</span>
            

            

            <code class="ruby">    additional_hash = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">    total_games_hash.each do |key, value|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="112">
            <span class="hits">5</span>
            

            

            <code class="ruby">      wins_hash.each do |key_v, value_v|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="113">
            <span class="hits">25</span>
            

            

            <code class="ruby">        if key == key_v</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="114">
            <span class="hits">5</span>
            

            

            <code class="ruby">          percent = (value_v / value.to_f)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="115">
            <span class="hits">5</span>
            

            

            <code class="ruby">          additional_hash[key] = percent</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">    #require &#39;pry&#39;; binding.pry</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="120">
            <span class="hits">6</span>
            

            

            <code class="ruby">    additional_hash.min_by{|k,v| v}[0]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def list_games_by_season(season_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="124">
            <span class="hits">2</span>
            

            

            <code class="ruby">    games_list = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="125">
            <span class="hits">2</span>
            

            

            <code class="ruby">    @games.each do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="122" data-linenumber="126">
            <span class="hits">122</span>
            

            

            <code class="ruby">      games_list &lt;&lt; row[:game_id] if row[:season] == season_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="128">
            <span class="hits">2</span>
            

            

            <code class="ruby">    games_list</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def highest_scoring_visitor</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">    scoring_breakdown = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="134">
            <span class="hits">33</span>
            

            

            <code class="ruby">    teams = @teams.map { |team| team[:team_id] }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">    teams.each do |team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1984" data-linenumber="136">
            <span class="hits">1984</span>
            

            

            <code class="ruby">      all_away_games = @games.find_all { |game| game[:away_team_id] == team}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="93" data-linenumber="137">
            <span class="hits">93</span>
            

            

            <code class="ruby">        total_goals = all_away_games.map { |away_game| away_game[:away_goals].to_i}.sum</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="138">
            <span class="hits">32</span>
            

            

            <code class="ruby">        if all_away_games.count != 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="139">
            <span class="hits">25</span>
            

            

            <code class="ruby">        average_away_goals = total_goals.to_f / all_away_games.count.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="140">
            <span class="hits">25</span>
            

            

            <code class="ruby">        scoring_breakdown[team] = average_away_goals.to_f.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">        else </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="142">
            <span class="hits">7</span>
            

            

            <code class="ruby">          nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="146">
            <span class="hits">1</span>
            

            

            <code class="ruby">    leading_team_id = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="147">
            <span class="hits">26</span>
            

            

            <code class="ruby">    scoring_breakdown.each { |key, value| leading_team_id = key if  value == scoring_breakdown.values.max }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="148">
            <span class="hits">33</span>
            

            

            <code class="ruby">    final_team = @teams.select { |team| team[:team_id] == leading_team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">    final_team[0][:teamname]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def lowest_scoring_visitor </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            <span class="hits">1</span>
            

            

            <code class="ruby">    scoring_breakdown = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="154">
            <span class="hits">33</span>
            

            

            <code class="ruby">    teams = @teams.map { |team| team[:team_id] }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">    teams.each do |team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1984" data-linenumber="156">
            <span class="hits">1984</span>
            

            

            <code class="ruby">      all_away_games = @games.find_all { |game| game[:away_team_id] == team}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="93" data-linenumber="157">
            <span class="hits">93</span>
            

            

            <code class="ruby">        total_goals = all_away_games.map { |away_game| away_game[:away_goals].to_i}.sum</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="158">
            <span class="hits">32</span>
            

            

            <code class="ruby">        if all_away_games.count != 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="159">
            <span class="hits">25</span>
            

            

            <code class="ruby">        average_away_goals = total_goals.to_f / all_away_games.count.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="160">
            <span class="hits">25</span>
            

            

            <code class="ruby">        scoring_breakdown[team] = average_away_goals.to_f.round(3)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">        else </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="162">
            <span class="hits">7</span>
            

            

            <code class="ruby">          nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">        end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">    last_team_id = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="167">
            <span class="hits">26</span>
            

            

            <code class="ruby">    scoring_breakdown.each { |key, value| last_team_id = key if  value == scoring_breakdown.values.min}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="168">
            <span class="hits">33</span>
            

            

            <code class="ruby">    final_team = @teams.select { |team| team[:team_id] == last_team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="169">
            <span class="hits">1</span>
            

            

            <code class="ruby">    final_team[0][:teamname]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def highest_scoring_home_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="173">
            <span class="hits">1</span>
            

            

            <code class="ruby">    scoring_breakdown = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="174">
            <span class="hits">33</span>
            

            

            <code class="ruby">    teams = @teams.map { |team| team[:team_id] }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">    teams.each do |team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1984" data-linenumber="176">
            <span class="hits">1984</span>
            

            

            <code class="ruby">      all_home_games = @games.find_all { |game| game[:home_team_id] == team}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="93" data-linenumber="177">
            <span class="hits">93</span>
            

            

            <code class="ruby">        total_goals = all_home_games.map { |home_game| home_game[:home_goals].to_i}.sum</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="178">
            <span class="hits">32</span>
            

            

            <code class="ruby">        if all_home_games.count != 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="179">
            <span class="hits">23</span>
            

            

            <code class="ruby">        average_home_goals = total_goals.to_f / all_home_games.count.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="180">
            <span class="hits">23</span>
            

            

            <code class="ruby">        scoring_breakdown[team] = average_home_goals.to_f.round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">        else </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="182">
            <span class="hits">9</span>
            

            

            <code class="ruby">          nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">        end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">    leading_team_id = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="187">
            <span class="hits">24</span>
            

            

            <code class="ruby">    scoring_breakdown.each { |key, value| leading_team_id = key if  value == scoring_breakdown.values.max }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="188">
            <span class="hits">33</span>
            

            

            <code class="ruby">    final_team = @teams.select { |team| team[:team_id] == leading_team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="189">
            <span class="hits">1</span>
            

            

            <code class="ruby">    final_team[0][:teamname]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="192">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def lowest_scoring_home_team</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="193">
            <span class="hits">1</span>
            

            

            <code class="ruby">    scoring_breakdown = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="194">
            <span class="hits">33</span>
            

            

            <code class="ruby">    teams = @teams.map { |team| team[:team_id] }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="195">
            <span class="hits">1</span>
            

            

            <code class="ruby">    teams.each do |team|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1984" data-linenumber="196">
            <span class="hits">1984</span>
            

            

            <code class="ruby">      all_home_games = @games.find_all { |game| game[:home_team_id] == team}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="93" data-linenumber="197">
            <span class="hits">93</span>
            

            

            <code class="ruby">        total_goals = all_home_games.map { |home_game| home_game[:home_goals].to_i}.sum</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="32" data-linenumber="198">
            <span class="hits">32</span>
            

            

            <code class="ruby">        if all_home_games.count != 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="199">
            <span class="hits">23</span>
            

            

            <code class="ruby">        average_home_goals = total_goals.to_f / all_home_games.count.to_f</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="23" data-linenumber="200">
            <span class="hits">23</span>
            

            

            <code class="ruby">        scoring_breakdown[team] = average_home_goals.to_f.round(3)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">        else </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="202">
            <span class="hits">9</span>
            

            

            <code class="ruby">          nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">        end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="206">
            <span class="hits">1</span>
            

            

            <code class="ruby">    last_team_id = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="207">
            <span class="hits">24</span>
            

            

            <code class="ruby">    scoring_breakdown.each { |key, value| last_team_id = key if  value == scoring_breakdown.values.min}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="208">
            <span class="hits">33</span>
            

            

            <code class="ruby">    final_team = @teams.select { |team| team[:team_id] == last_team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="209">
            <span class="hits">1</span>
            

            

            <code class="ruby">    final_team[0][:teamname]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="212">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def team_info(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="213">
            <span class="hits">33</span>
            

            

            <code class="ruby">    info = @teams.find_all {|team| team[:team_id] == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="214">
            <span class="hits">1</span>
            

            

            <code class="ruby">    { &#39;team_id&#39; =&gt; info[:team_id],  }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="218">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def average_win_percentage(team_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="154" data-linenumber="219">
            <span class="hits">154</span>
            

            

            <code class="ruby">    games_by_team = @game_teams.find_all {|game| game[:team_id] == team_id}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="220">
            <span class="hits">2</span>
            

            

            <code class="ruby">    total = games_by_team.count</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="221">
            <span class="hits">2</span>
            

            

            <code class="ruby">    wins = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="222">
            <span class="hits">2</span>
            

            

            <code class="ruby">    games_by_team.each do |game|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="223">
            <span class="hits">17</span>
            

            

            <code class="ruby">      wins += 1 if game[:result] == &quot;WIN&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="225">
            <span class="hits">2</span>
            

            

            <code class="ruby">    (wins/total.to_f).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
